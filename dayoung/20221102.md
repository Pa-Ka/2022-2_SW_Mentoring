# 서비스 개발 -1
_22.11.02.study_
***
## 내비게이션 바 만들기
- 부트스트랩 이용
- 웹 반응형도 가능
- base.html 에서 nav 기능을 분리 (유지 보수 편리)
- {%include "navbar.html" %} -> 이런식으로 base.html에 적어주면 삽입완료!

## 게시판 페이징
> 질문을 300개를 받았다고 생각하면 한페이지에 300개의 질문이 전부 출력될것이다. 그래서 필요한 기능이 게시판 페이징 기능이다.

```python
@bp.route('/list/')
def _list():
    page = request.args.get('page', type=int, default=1)  # 페이지
    question_list = Question.query.order_by(Question.create_date.desc())
    question_list = question_list.paginate(page=page, per_page=10)
    return render_template('question/question_list.html', question_list=question_list)
```

1. page = request.args.get('page', type=int, default=1) -> GET 방식으로 요청한 URL에서 page값을 가져올 때 사용한다. (type=int는 page 파라미터가 정수임을 의미한다.)
2.  question_list = question_list.paginate(page=page, per_page=10)-> 조회한 데이터 question_list에 paginate 함수로 페이징을 적용
    - 1번째 인수로 전달된 page는 현재조회할 페이지의 번호
    - 2번째 인수로 전달된 10은 페이지마다 보여 줄 게시물이 10건임을 의미
3. paginate 함수를 적용하면 객체가 리턴되어 다양한 속성을 사용 가능하게 한다.
    - items : 현재 페이지에 해당하는 게시물 리스트
    - total : 게시물 전체 개수
    - per_page : 페이지당 보여 줄 게시물 개수
    - page : 현재 페이지 번호
    - iter_pages : 페이지 범위
    - prev_num / next_num : 이전 페이지 번호/ 다음 페이지 번호
    - has_prev / has_next : 이전 페이지 존재 여부 / 다음페이지 존재 여부
4. 우리 앱에 사용한 페이징 기능들
    - 이전 페이지가 있는지 체크 : {% if question_list.has_prev %}
    - 이전 페이지 번호 : {{ question_list.prev_num }}
    - 다음 페이지가 있는지 체크 : {% if question_list.has_next %}
    - 다음 페이지 번호 : {{ question_list.next_num }}
    - 페이지 리스트 루프 : {% for page_num in question_list.iter_pages() %}
    - 현재 페이지와 같은지 체크 : {% if page_num != question_list.page %}